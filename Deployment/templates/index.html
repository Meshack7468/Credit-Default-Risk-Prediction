<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Loan Default Prediction</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<div class="container">
    <h1>Credit Risk Assessement</h1>

    <form method="POST">

        <!-- Numeric Inputs -->
        <div>
            <label>Age</label>
            <input type="number" name="Age" required>
        </div>

        <div>
            <label>Income</label>
            <input type="number" name="Income" required>
        </div>

        <div>
            <label>Loan Amount</label>
            <input type="number" name="LoanAmount" required>
        </div>

        <div>
            <label>Credit Score</label>
            <input type="number" name="CreditScore" required>
        </div>

        <div>
            <label>Months Employed</label>
            <input type="number" name="MonthsEmployed" required>
        </div>

        <div>
            <label>Number of Credit Lines</label>
            <input type="number" name="NumCreditLines" required>
        </div>

        <div>
            <label>Interest Rate (%)</label>
            <input type="number" step="0.01" name="InterestRate" required>
        </div>

        <div>
            <label>Loan Term (Months)</label>
            <input type="number" name="LoanTerm" required>
        </div>

        <div>
            <label>DTI Ratio</label>
            <input type="number" step="0.01" name="DTIRatio" required>
        </div>

        <!-- Categorical Inputs -->
        <div>
            <label>Education</label>
            <select name="Education" required>
                <option value="High School">High School</option>
                <option value="Bachelor's">Bachelor's</option>
                <option value="Master's">Master's</option>
                <option value="PhD">PhD</option>
            </select>
        </div>

        <div>
            <label>Employment Type</label>
            <select name="EmploymentType" required>
                <option value="Full-time">Full-time</option>
                <option value="Part-time">Part-time</option>
                <option value="Self-employed">Self-employed</option>
                <option value="Unemployed">Unemployed</option>
            </select>
        </div>

        <div>
            <label>Marital Status</label>
            <select name="MaritalStatus" required>
                <option value="Single">Single</option>
                <option value="Married">Married</option>
                <option value="Divorced">Divorced</option>
            </select>
        </div>

        <div>
            <label>Has Mortgage</label>
            <select name="HasMortgage" required>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </div>

        <div>
            <label>Has Dependents</label>
            <select name="HasDependents" required>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </div>

        <div>
            <label>Loan Purpose</label>
            <select name="LoanPurpose" required>
                <option value="Home">Home</option>
                <option value="Auto">Auto</option>
                <option value="Education">Education</option>
                <option value="Business">Business</option>
                <option value="Other">Other</option>
            </select>
        </div>

        <div>
            <label>Has Co-Signer</label>
            <select name="HasCoSigner" required>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </div>

        <button type="submit">Predict</button>
    </form>

    {% if prediction is not none %}
        <div class="result {{ 'danger' if prediction == 1 else 'success' }}">
            {% if prediction == 1 %}
                ⚠️ Likely to Default
            {% else %}
                ✅ Unlikely to Default
            {% endif %}
            <br>
            Default Probability: {{ (probability * 100) | round(2) }}%
        </div>
        <p class="description">
        This tool provides data-driven default risk probabilities to support credit reviews.
    </p>
    {% endif %}

</div>

</body>
</html>
